<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Image Compressor — Optimize & Download | Fast, Responsive</title>
  <meta name="description" content="Free responsive image compression tool. Choose quality, resize, and download optimized JPEG/WEBP/PNG images. Adsense-ready ad slots included.">
  <meta name="keywords" content="image compressor, image optimizer, compress images, webp converter, resize image, image quality">
  <meta name="robots" content="index, follow">

  <!-- Open Graph / Social -->
  <meta property="og:title" content="Image Compressor — Optimize & Download">
  <meta property="og:description" content="Compress and optimize images in the browser. Choose quality, resize, and download — supports JPEG, WEBP, PNG.">
  <meta property="og:type" content="website">

  <!-- Structured data (JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Image Compressor",
    "url": "https://yourdomain.example/",
    "description": "Client-side image compression and optimization tool.",
    "applicationCategory": "Image Processing",
    "operatingSystem": "All",
    "creator": {"@type":"Organization","name":"YourName or Company"}
  }
  </script>

  <!-- Styles: simple responsive layout -->
  <style>
    :root{--accent:#0b84ff;--muted:#666}
    *{box-sizing:border-box}
    body{font-family:Inter, system-ui, -apple-system, Roboto, 'Helvetica Neue', Arial; margin:0; color:#111; background:linear-gradient(180deg,#fafafa,#fff);}
    header{padding:18px 20px;display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{height:44px;width:44px;border-radius:8px;background:var(--accent);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700}
    main{display:grid;grid-template-columns:1fr 320px;gap:20px;padding:20px;max-width:1200px;margin:0 auto}
    @media (max-width:900px){main{grid-template-columns:1fr;padding:14px} .aside{order:2}}
    .card{background:#fff;border-radius:12px;box-shadow:0 6px 18px rgba(10,20,40,0.06);padding:18px}
    h1{margin:0;font-size:20px}
    p.lead{color:var(--muted);margin:8px 0 16px}

    /* drop area */
    .drop{border:2px dashed #e6e9ef;border-radius:10px;padding:22px;text-align:center;cursor:pointer;transition:all .15s}
    .drop.drag{background:rgba(11,132,255,0.03);border-color:var(--accent)}
    .controls{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
    .control{flex:1;min-width:120px}
    label{display:block;font-size:13px;margin-bottom:6px;color:#333}
    input[type=range]{width:100%}
    select,input[type=number]{width:100%;padding:8px;border-radius:8px;border:1px solid #e6e9ef}
    button.primary{background:var(--accent);color:#fff;padding:10px 14px;border-radius:10px;border:0;cursor:pointer}
    .small{font-size:13px;color:var(--muted)}

    /* results */
    .results{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px;margin-top:14px}
    .thumb{background:#fbfbff;border-radius:8px;padding:10px;display:flex;flex-direction:column;gap:8px;align-items:center}
    .thumb img{max-width:100%;height:120px;object-fit:contain;border-radius:6px}
    .meta{font-size:13px;color:var(--muted);text-align:center}
    .download{width:100%;padding:8px;border-radius:8px;border:1px solid #e6e9ef;background:#fff;cursor:pointer}

    /* aside */
    .aside .card{position:sticky;top:20px}
    footer{padding:18px;text-align:center;color:var(--muted);font-size:13px}

    /* ad placeholders */
    .ad-slot{display:block;background:#f5f7fa;border:1px dashed #dfe6f2;padding:12px;border-radius:8px;text-align:center;color:#0a63d6}
    .muted-small{font-size:12px;color:#8b96a8}
  </style>

  <!-- Optional JSZip for zipping multiple downloads -->
  <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo">IC</div>
      <div>
        <h1>Image Compressor</h1>
        <div class="muted-small">Fast client-side image optimization — no upload needed</div>
      </div>
    </div>
    <!-- Header ad slot (replace CLIENT_ID and AD_SLOT below) -->
    <div style="min-width:320px;max-width:468px">
      <!-- Google AdSense header banner placeholder -->
      <!-- Replace ca-pub-REPLACE_WITH_CLIENT with your publisher id and REPLACE_WITH_SLOT with your ad unit -->
      <div class="ad-slot card" aria-hidden="true">Header Ad — insert AdSense script & ad unit here</div>
    </div>
  </header>

  <main>
    <section>
      <div class="card">
        <h2>Compress & Optimize Images</h2>
        <p class="lead">Drag & drop or select one or multiple images (JPEG, PNG, WebP). Pick compression quality and optional resize. All processing happens in your browser.</p>

        <div id="drop" class="drop" tabindex="0">
          <strong>Drop images here</strong>
          <div class="small">or <button id="selectBtn" class="primary" style="display:inline-block;padding:6px 8px">Select Files</button></div>
          <input id="fileInput" type="file" accept="image/*" multiple style="display:none">
        </div>

           <div class="controls" style="margin-top:16px">
          <div class="control">
            <label for="quality">Compression quality: <span id="qualityVal">85</span>%</label>
            <input id="quality" type="range" min="10" max="100" value="85">
          </div>

          <div class="control">
            <label for="format">Output format</label>
            <select id="format">
              <option value="image/jpeg">JPEG (good compatibility)</option>
              <option value="image/webp">WEBP (best compression)</option>
              <option value="image/png">PNG (lossless; quality param ignored)</option>
            </select>
          </div>

          <div class="control">
            <label for="maxWidth">Max width (px) — 0 = keep original</label>
            <input id="maxWidth" type="number" min="0" value="0">
          </div>

          <div style="display:flex;align-items:flex-end;gap:8px;flex-wrap:wrap">
            <button id="compressBtn" class="primary">Compress</button>
             <button id="clearBtn" class="btn btn-danger">Clear</button>
          </div>
        </div>

        <div id="results" class="results" aria-live="polite"></div>
      </div>

        <div id="results" class="results" aria-live="polite"></div>
      </div>
	  
	  

      <!-- Inline ad inside content -->
      <div style="margin-top:12px" class="card">
        <div class="ad-slot">Content Ad — insert AdSense ad unit here</div>
      </div>

    </section>

    <aside class="aside">
      <div class="card">
        <h3>Tool Info</h3>
        <p class="small">This tool runs completely in your browser. Images are NOT uploaded to any server. Use the quality slider and output format to tune size vs visual quality.</p>
        <ul>
          <li class="small">JPEG/WEBP respect the quality setting (10–100).</li>
          <li class="small">PNG is lossless — quality param will be ignored by most browsers.</li>
          <li class="small">For best web performance, prefer WEBP (smaller files).</li>
        </ul>

        <hr>
        <h4>Monetization</h4>
        <p class="small">Replace placeholders below with your AdSense client & ad-slot IDs. Example script (put in &lt;head&gt;):</p>
        <pre class="small" style="white-space:pre-wrap;background:#f6f8fc;padding:8px;border-radius:6px">&lt;script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-REPLACE_WITH_CLIENT" crossorigin="anonymous"&gt;&lt;/script&gt;</pre>
        <p class="small">Then place ad units where the ad-slot placeholders are shown. Example ad unit markup:</p>
        <pre class="small" style="white-space:pre-wrap;background:#f6f8fc;padding:8px;border-radius:6px">&lt;ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-REPLACE_WITH_CLIENT" data-ad-slot="REPLACE_WITH_SLOT" data-ad-format="auto"&gt;&lt;/ins&gt;&lt;script&gt;(adsbygoogle = window.adsbygoogle || []).push({});&lt;/script&gt;</pre>

        <hr>
        <h4>SEO tips</h4>
        <ol class="small">
          <li>Use descriptive filenames and alt attributes when publishing images.</li>
          <li>Serve images in modern formats (WebP) for speed and SEO.</li>
          <li>Only compress to the point visual quality is acceptable for your audience.</li>
        </ol>
      </div>

      <div style="margin-top:12px" class="card">
        <div class="ad-slot">Sidebar Ad — insert AdSense ad unit here</div>
      </div>
    </aside>
  </main>

  <footer>
    <div class="small">Built with ❤️ — Client-side image compressor. No uploads by default. Copyright © <span id="year"></span></div>
  </footer>

<script>
document.getElementById('year').textContent = new Date().getFullYear();

const drop = document.getElementById('drop');
const fileInput = document.getElementById('fileInput');
const selectBtn = document.getElementById('selectBtn');
const qualitySlider = document.getElementById('quality');
const qualityVal = document.getElementById('qualityVal');
const format = document.getElementById('format');
const maxWidth = document.getElementById('maxWidth');
const compressBtn = document.getElementById('compressBtn');
const results = document.getElementById('results');
const downloadAll = document.getElementById('downloadAll');
const clearBtn = document.getElementById('clearBtn');

let files = [];

// Update quality label live
qualitySlider.addEventListener('input', () => qualityVal.textContent = qualitySlider.value);
selectBtn.addEventListener('click', () => fileInput.click());

// Unified file loading
function loadAndDisplayFiles(selectedFiles) {
    files = [];
    results.innerHTML = '';

    for (const file of selectedFiles) {
        if (file.type.startsWith('image/')) {
            files.push(file);

            const reader = new FileReader();
            reader.onload = (event) => {
                const wrapper = document.createElement('div');
                wrapper.style.display = 'flex';
                wrapper.style.gap = '20px';
                wrapper.style.alignItems = 'flex-start';
                wrapper.style.marginBottom = '20px';
                wrapper.style.flexWrap = 'wrap';

                // Original
                const originalCol = document.createElement('div');
                originalCol.style.flex = "1";
                const originalLabel = document.createElement('p');
                originalLabel.textContent = "Original File";
                originalLabel.style.fontWeight = "bold";
                const originalImg = document.createElement('img');
                originalImg.src = event.target.result;
                originalImg.style.maxWidth = "100%";
                originalImg.style.borderRadius = "6px";
                const origMeta = document.createElement('div');
                origMeta.className = 'meta';
                origMeta.textContent = `${file.name} — ${(file.size/1024).toFixed(1)} KB`;
                originalCol.append(originalLabel, originalImg, origMeta);

                // Compressed
                const compressedCol = document.createElement('div');
                compressedCol.style.flex = "1";
                const compressedLabel = document.createElement('p');
                compressedLabel.textContent = "Compressed File";
                compressedLabel.style.fontWeight = "bold";
                const compressedImg = document.createElement('img');
                compressedImg.style.maxWidth = "100%";
                compressedImg.style.borderRadius = "6px";
                const compMeta = document.createElement('div');
                compMeta.className = 'meta';
                compMeta.textContent = "Not compressed yet";
                const downloadBtn = document.createElement('a');
                downloadBtn.textContent = "Download";
                downloadBtn.style.display = "none";
                downloadBtn.style.marginTop = "10px";
                downloadBtn.style.background = "var(--accent)";
                downloadBtn.style.color = "#fff";
                downloadBtn.style.padding = "8px 14px";
                downloadBtn.style.borderRadius = "8px";
                downloadBtn.style.textDecoration = "none";
                downloadBtn.style.textAlign = "center";
                downloadBtn.style.display = "block";
                downloadBtn.style.width = "max-content";
                downloadBtn.style.marginLeft = "auto";
                downloadBtn.style.marginRight = "auto";

                compressedCol.append(compressedLabel, compressedImg, compMeta, downloadBtn);

                wrapper.append(originalCol, compressedCol);
                results.appendChild(wrapper);

                file.preview = { compressedImg, compMeta, downloadBtn };
            };
            reader.readAsDataURL(file);
        }
    }
}

// File select
fileInput.addEventListener('change', (e) => {
    loadAndDisplayFiles(e.target.files);
});

// Drag & drop
['dragenter', 'dragover'].forEach(ev =>
    drop.addEventListener(ev, (e) => { e.preventDefault(); drop.classList.add('drag'); })
);
['dragleave', 'drop'].forEach(ev =>
    drop.addEventListener(ev, (e) => { e.preventDefault(); drop.classList.remove('drag'); })
);
drop.addEventListener('drop', (e) => {
    e.preventDefault();
    loadAndDisplayFiles(e.dataTransfer.files);
});

// Compression
compressBtn.addEventListener('click', async () => {
    if (!files.length) return alert('Please add images first');
    compressBtn.disabled = true;
    compressBtn.textContent = 'Compressing...';

    const outputType = format.value;
    const q = parseInt(qualitySlider.value, 10);
    const mw = parseInt(maxWidth.value, 10) || 0;

    for (let file of files) {
        const out = await compressImage(file, outputType, q, mw);
        const url = URL.createObjectURL(out);
        file.preview.compressedImg.src = url;
        file.preview.compMeta.textContent = `${out.name} — ${(out.size/1024).toFixed(1)} KB`;
        file.preview.downloadBtn.href = url;
        file.preview.downloadBtn.download = out.name;
        file.preview.downloadBtn.style.display = "block";
    }

    compressBtn.disabled = false;
    compressBtn.textContent = 'Compress';
});

// Core compression function
async function compressImage(file, outputType, qualityNum, maxW) {
    const img = await loadImageFromFile(file);
    let [w, h] = [img.naturalWidth, img.naturalHeight];
    if (maxW && maxW > 0 && w > maxW) {
        h = Math.round((h * maxW) / w);
        w = maxW;
    }
    const canvas = document.createElement('canvas');
    canvas.width = w;
    canvas.height = h;
    const ctx = canvas.getContext('2d');
    ctx.drawImage(img, 0, 0, w, h);
    const blob = await new Promise(resolve => canvas.toBlob(resolve, outputType, qualityNum / 100));
    return new File([blob], makeFileName(file.name, outputType), { type: blob.type });
}

function makeFileName(origName, mime) {
    const dot = origName.lastIndexOf('.');
    const base = dot > 0 ? origName.slice(0, dot) : origName;
    const ext = mime === 'image/webp' ? 'webp' : (mime === 'image/png' ? 'png' : 'jpg');
    return base + '-compressed.' + ext;
}

function loadImageFromFile(file) {
    return new Promise((resolve, reject) => {
        const url = URL.createObjectURL(file);
        const img = new Image();
        img.onload = () => { URL.revokeObjectURL(url); resolve(img); };
        img.onerror = (e) => { URL.revokeObjectURL(url); reject(e); };
        img.src = url;
    });
}

// Clear button
clearBtn.addEventListener('click', () => {
    files = [];
    results.innerHTML = '';
    fileInput.value = '';
});
</script>

</body>
</html>
